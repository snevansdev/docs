openapi: 3.0.3
info:
  title: Query Parameter Array API
  description: API demonstrating various query parameter array scenarios
  version: 1.0.0
servers:
  - url: https://httpbin.org/anything
    description: Production server

paths:
  /style-form-true:
    get:
      summary: Array query parameter with style=form, explode=true
      description: Array query parameter with style=form, explode=true (default)
      operationId: getStyleFormTrue
      parameters:
        - name: tags
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string

  /style-form-false:
    get:
      summary: Array query parameter with style=form, explode=false
      description: Array query parameter with style=form, explode=false
      operationId: getStyleFormFalse
      parameters:
        - name: tags
          in: query
          required: false
          style: form
          explode: false
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string

  /style-spaceDelimited-true:
    get:
      summary: Array query parameter with style=spaceDelimited, explode=true
      description: Array query parameter with style=spaceDelimited, explode=true
      operationId: getStyleSpaceDelimitedTrue
      parameters:
        - name: tags
          in: query
          required: false
          style: spaceDelimited
          explode: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    
  /style-spaceDelimited-false:
    get:
      summary: Array query parameter with style=spaceDelimited, explode=false
      description: Array query parameter with style=spaceDelimited, explode=false
      operationId: getStyleSpaceDelimitedFalse
      parameters:
        - name: tags
          in: query
          required: false
          style: spaceDelimited
          explode: false
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string

  /style-pipeDelimited-true:
    get:
      summary: Array query parameter with style=pipeDelimited, explode=true
      description: Array query parameter with style=pipeDelimited, explode=true
      operationId: getStylePipeDelimitedTrue
      parameters:
        - name: tags
          in: query
          required: false
          style: pipeDelimited
          explode: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string

  /style-pipeDelimited-false:
    get:
      summary: Array query parameter with style=pipeDelimited, explode=false
      description: Array query parameter with style=pipeDelimited, explode=false
      operationId: getStylePipeDelimitedFalse
      parameters:
        - name: tags
          in: query
          required: false
          style: pipeDelimited
          explode: false
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string

  /style-deepObject-array-true:
    get:
      summary: Array query parameter with style=deepObject, explode=true
      description: Array query parameter with style=deepObject, explode=true (for arrays)
      operationId: getStyleDeepObjectArrayTrue
      parameters:
        - name: filter
          in: query
          required: false
          style: deepObject
          explode: true
          schema:
            type: array
            items:
              type: object
              properties:
                id:
                  type: string
                name:
                  type: string
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string

  /style-deepObject-array-false:
    get:
      summary: Array query parameter with style=deepObject, explode=false
      description: Array query parameter with style=deepObject, explode=false (for arrays)
      operationId: getStyleDeepObjectArrayFalse
      parameters:
        - name: filter
          in: query
          required: false
          style: deepObject
          explode: false
          schema:
            type: array
            items:
              type: object
              properties:
                id:
                  type: string
                name:
                  type: string
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string

  /style-deepObject-arrayRef-true:
    get:
      summary: Array query parameter with style=deepObject, explode=true using reference
      description: Array query parameter with style=deepObject, explode=true using reference to array model
      operationId: getStyleDeepObjectArrayRefTrue
      parameters:
        - name: filter
          in: query
          required: false
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/ComplexArray'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    
  /style-deepObject-arrayRef-false:
    get:
      summary: Array query parameter with style=deepObject, explode=false using reference
      description: Array query parameter with style=deepObject, explode=false using reference to array model
      operationId: getStyleDeepObjectArrayRefFalse
      parameters:
        - name: filter
          in: query
          required: false
          style: deepObject
          explode: false
          schema:
            $ref: '#/components/schemas/ComplexArray'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    
  /style-deepObject-stringArray-true:
    get:
      summary: String array query parameter with style=deepObject, explode=true
      description: String array query parameter with style=deepObject, explode=true using reference to string array model
      operationId: getStyleDeepObjectStringArrayTrue
      parameters:
        - name: filter
          in: query
          required: false
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/PureStringArray'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    
  /style-deepObject-stringArray-false:
    get:
      summary: String array query parameter with style=deepObject, explode=false
      description: String array query parameter with style=deepObject, explode=false using reference to string array model
      operationId: getStyleDeepObjectStringArrayFalse
      parameters:
        - name: filter
          in: query
          required: false
          style: deepObject
          explode: false
          schema:
            $ref: '#/components/schemas/PureStringArray'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string

components:
  schemas:
    TagsArray:
      type: array
      items:
        type: string
      description: Array of tags

    CategoryArray:
      type: array
      items:
        type: string
      description: Array of categories

    ProductTagsArray:
      type: array
      items:
        type: string
      description: Array of product tags (same type as TagsArray)
      
    ComplexArray:
      type: array
      items:
        type: object
        properties:
          id:
            type: string
            description: Item ID
          name:
            type: string
            description: Item name
          attributes:
            type: array
            items:
              type: string
            description: Item attributes
            
    PureStringArray:
      type: array
      items:
        type: string
      description: Pure array of strings for deepObject style testing
